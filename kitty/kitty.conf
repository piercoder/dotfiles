###############################################################################
# kitty.conf — My kitty configuration file for macOS
# Author: Pierpaolo Pattitoni (@piercoder)
###############################################################################

#==========================================================================
# Colors — Darkside
#==========================================================================
background              #212324
foreground              #b9b9b9
cursor                  #bbbbbb
selection_background    #2f3333
selection_foreground    #212324
color0                  #000000
color8                  #000000
color1                  #e8331c
color9                  #df5a4f
color2                  #68c156
color10                 #76b768
color3                  #f1d32b
color11                 #eed64a
color4                  #1c98e8
color12                 #387bd2
color5                  #8e69c8
color13                 #957bbd
color6                  #1c98e8
color14                 #3d96e2
color7                  #b9b9b9
color15                 #b9b9b9

background_opacity      0.8
active_border_color     #387bd2
inactive_border_color   #2f3333
bell_border_color       #eed64a

#==========================================================================
# Fonts — FiraCode Nerd Font
#==========================================================================
font_family             FiraCode Nerd Font
bold_font               auto
italic_font             auto
bold_italic_font        auto
font_size               12.0
disable_ligatures       never
symbol_map              U+E0A0-U+E0A3,U+E0B0-U+E0C8 FiraCode Nerd Font

#==========================================================================
# Performance & Scrolling
#==========================================================================
scrollback_lines        100000
sync_to_monitor         no
input_delay             0
wheel_scroll_multiplier 5.0

#==========================================================================
# Window, Layout & UI
#==========================================================================
window_padding_width    10
remember_window_size    yes
enabled_layouts         tall,stack,grid,fat,splits,horizontal,vertical
tab_bar_min_tabs        1
tab_bar_style           powerline
tab_bar_edge            top
tab_title_template      "{index}:{title}"
cursor_shape            beam
cursor_blink_interval   0.5

#==========================================================================
# macOS Integration
#==========================================================================
macos_option_as_alt     both
open_url_with           default
# Use system titlebar color to play nicely with background_opacity
macos_titlebar_color    system
# Show title in the macOS menubar (valid choices: all|window|menubar|none)
macos_show_window_title_in menubar
confirm_os_window_close 0
macos_quit_when_last_window_closed yes

#==========================================================================
# Clipboard & Selection
#==========================================================================
copy_on_select          yes
strip_trailing_spaces   smart
clipboard_control       write-clipboard write-primary read-clipboard read-primary

#==========================================================================
# Shell, Sessions & Remote Control
#==========================================================================
shell_integration       enabled
allow_remote_control    yes
# listen_on             unix:/tmp/kitty-piercoder
# startup_session       ~/kitty_sessions/dev.session

#==========================================================================
# Search
#==========================================================================
search_ignore_case      smart
map cmd+f               search

#==========================================================================
# Keybindings — Cmd-centric
#==========================================================================
kitty_mod               cmd

# Tabs / navigation
map kitty_mod+enter     new_tab
map kitty_mod+w         close_tab
map kitty_mod+shift+w   close_window
map kitty_mod+[         previous_tab
map kitty_mod+]         next_tab
map kitty_mod+1         goto_tab 1
map kitty_mod+2         goto_tab 2
map kitty_mod+3         goto_tab 3
map kitty_mod+4         goto_tab 4
map kitty_mod+5         goto_tab 5
map kitty_mod+6         goto_tab 6
map kitty_mod+7         goto_tab 7
map kitty_mod+8         goto_tab 8
map kitty_mod+9         goto_tab 9

# Splits + focus
map kitty_mod+d         launch --location=hsplit
map kitty_mod+shift+d   launch --location=vsplit
map kitty_mod+h         neighboring_window left
map kitty_mod+j         neighboring_window down
map kitty_mod+k         neighboring_window up
map kitty_mod+l         neighboring_window right

# Resize splits
map kitty_mod+alt+h     resize_window narrower
map kitty_mod+alt+l     resize_window wider
map kitty_mod+alt+j     resize_window shorter
map kitty_mod+alt+k     resize_window taller
map kitty_mod+shift+alt+h resize_window -20 0
map kitty_mod+shift+alt+l resize_window 20 0
map kitty_mod+shift+alt+j resize_window 0 -10
map kitty_mod+shift+alt+k resize_window 0 10

# Layout cycling / windows
map kitty_mod+space     next_layout
map kitty_mod+n         new_os_window
map kitty_mod+t         new_tab

# Clear screen vs hard reset
map kitty_mod+k         clear_terminal scrollback active
map kitty_mod+shift+k   clear_terminal reset active

# Copy/paste (mac muscle memory)
map cmd+c               copy_to_clipboard
map cmd+v               paste_from_clipboard

# Hints kitten (URLs, files, hashes, etc.)
map kitty_mod+o         kitten hints

#==========================================================================
# Bells & Notifications
#==========================================================================
enable_audio_bell       no
visual_bell_duration    0.15
bell_on_tab             yes

#==========================================================================
# Mouse
#==========================================================================
mouse_hide_wait         2.0

#==========================================================================
# Safety & QoL
#==========================================================================
detect_urls             yes